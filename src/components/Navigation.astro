---
import {buildNavigation} from "../utils/navigation";
import NavItem from "./NavItem.astro";
import '../styles/navigation.css';

const navItems = await buildNavigation();
const currentPath = Astro.url.pathname;
---

<nav>
    <a href="/" class={`nav-link ${currentPath === '/' ? 'active' : ''}`}>🐸</a>
    <ul class="nav-root">
        {navItems.map((item) => (
                <NavItem item={item} currentPath={currentPath} depth={0} />
        ))}
    </ul>
</nav>