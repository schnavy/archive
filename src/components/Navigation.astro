---
import {buildNavigation} from "../utils/navigation";
import NavItem from "./NavItem.astro";
import '../styles/navigation.css';

const navItems = await buildNavigation();
const currentPath = Astro.url.pathname;
---

<nav>
    <div class="nav-wrapper">
        <ul class="nav-root">
            <li>
                <a href="/" class={`nav-link ${currentPath === '/' ? 'active' : ''}`}>ğŸ¸</a>
            </li>
            {navItems.map((item) => (
                    <NavItem item={item} currentPath={currentPath} depth={0}/>
            ))}
        </ul>
    </div>
</nav>